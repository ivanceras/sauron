<!doctype html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Custom widget</title>
  </head>
  <body>
    <script type=module>
        import init, * as components from './pkg/datetime_widget_usage.js';
        console.log(Object.keys(components));
        /// attached the components in the window, so we access them from other scripts
        /// This is important, otherwise the register_custom_element will not work
        /// This must be called before the init function
        Object.assign(window, components);
        await init().catch(console.error);

        function dateTimeChange(e){
            console.log("dateTimeChange in custom tag usage", e);
        }

        function dateTimeClicked(e){
            console.log("date time is clicked",e);
            document.getElementById("date1").setAttribute("time", "11:11");
            document.getElementById("date1").removeAttribute("interval");
        }

        window.dateTimeChange = dateTimeChange;
        window.dateTimeClicked = dateTimeClicked;
        let date1 = document.getElementById("date1");
        date1.addEventListener("input", dateTimeChange);
    </script>

    <h1>Using it in plain html</h1>
    <date-time id="date1" date="2022-02-22" time="22:22" interval="1000"></date-time>
    <button onclick="dateTimeClicked()">Some button</button>
  </body>
</html>
